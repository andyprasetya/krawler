(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{172:function(t,e,s){"use strict";s.r(e);var a=s(0),n=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("The "),s("code",[t._v("stores")]),t._v(" "),s("a",{attrs:{href:"https://docs.feathersjs.com/api/services.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("service"),s("OutboundLink")],1),t._v(" allow to manage in-memory data stores with the following operations:")]),t._v(" "),t._m(2),t._v(" "),s("p",[t._v("The returned store objects comply the "),s("a",{attrs:{href:"https://github.com/maxogden/abstract-blob-store",target:"_blank",rel:"noopener noreferrer"}},[t._v("abstract-blob-store"),s("OutboundLink")],1),t._v(" interface. Available store types are the following:")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/mafintosh/fs-blob-store",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("fs")]),s("OutboundLink")],1),t._v(" for local file system")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/jb55/s3-blob-store",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("s3")]),s("OutboundLink")],1),t._v(" for AWS S3")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/retrohacker/memory-blob-store",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("memory")]),s("OutboundLink")],1),t._v(" for in-memory data buffers")])]),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("The "),s("code",[t._v("tasks")]),t._v(" "),s("a",{attrs:{href:"https://docs.feathersjs.com/api/services.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("service"),s("OutboundLink")],1),t._v(" allow to manage individual task execution with the following operations:")]),t._v(" "),t._m(4),t._v(" "),s("p",[t._v("The returned task objects will contain an additional property for each output types holding an array of produced output files. This is used by the "),s("router-link",{attrs:{to:"./hooks.html#clearoutputsoptions"}},[t._v("clearOutputs")]),t._v(" hook to perform cleanup.")],1),t._v(" "),s("p",[t._v("By default a task implementation return a "),s("a",{attrs:{href:"https://nodejs.org/api/stream.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("stream"),s("OutboundLink")],1),t._v(" to extract data from that is piped to the target store. Available task types are the following:")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/request/request",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("http")]),s("OutboundLink")],1),t._v(" for HTTP requests, available options")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Web_Map_Service",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("wms")]),s("OutboundLink")],1),t._v(" for HTTP requests targeting WMS services")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Web_Coverage_Service",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("wcs")]),s("OutboundLink")],1),t._v(" for HTTP requests targeting WCS services")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Web_Feature_Service",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("wfs")]),s("OutboundLink")],1),t._v(" for HTTP requests targeting WFS services")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://wiki.openstreetmap.org/wiki/Overpass_API",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("overpass")]),s("OutboundLink")],1),t._v(" for HTTP requests to query OpenStreetMap data")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/maxogden/abstract-blob-store",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("store")]),s("OutboundLink")],1),t._v(" to read input data from a store")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/NOP",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("noop")]),s("OutboundLink")],1),t._v(" when you don't need to read anything, the purpose is just to launch the hooks, returns an "),s("code",[t._v("undefined")]),t._v(" stream")])]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),s("p",[t._v("The "),s("code",[t._v("jobs")]),t._v(" "),s("a",{attrs:{href:"https://docs.feathersjs.com/api/services.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("service"),s("OutboundLink")],1),t._v(" allow to manage job execution with the following operations:")]),t._v(" "),t._m(7),t._v(" "),s("p",[t._v("The returned job object is a "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",target:"_blank",rel:"noopener noreferrer"}},[t._v("promise"),s("OutboundLink")],1),t._v(" resolved or rejected when the job is finished or has failed.")]),t._v(" "),s("p",[t._v("Available common job options are the following:")]),t._v(" "),t._m(8),t._v(" "),s("p",[t._v("Available job types are the following:")]),t._v(" "),s("ul",[t._m(9),t._v(" "),s("li",[s("code",[t._v("kue")]),t._v(" to run tasks by the "),s("a",{attrs:{href:"https://github.com/Automattic/kue",target:"_blank",rel:"noopener noreferrer"}},[t._v("Kue job sequencer"),s("OutboundLink")],1),t._v(", available specific options are\n"),t._m(10)])]),t._v(" "),t._m(11),t._v(" "),s("p",[t._v("When creating a job if a "),s("code",[t._v("taskTemplate")]),t._v(" object is provided it will be automatically merged in all job tasks so that you can use it to store options common to all your tasks. It also provides task ID "),s("a",{attrs:{href:"https://lodash.com/docs/4.17.4#template",target:"_blank",rel:"noopener noreferrer"}},[t._v("templating"),s("OutboundLink")],1),t._v(" based on "),s("code",[t._v("jobId")]),t._v(" and "),s("code",[t._v("taskId")]),t._v(" injected variables. So if you provide the following task template:")]),t._v(" "),t._m(12),s("p",[t._v("And submit the following task to your job:")]),t._v(" "),t._m(13),s("p",[t._v("The final task to be executed will be:")]),t._v(" "),t._m(14),t._m(15),t._v(" "),s("p",[t._v("Here's an example of a Feathers server that uses the complete set of krawler services:")]),t._v(" "),t._m(16)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"services"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#services","aria-hidden":"true"}},[this._v("#")]),this._v(" Services")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"stores"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#stores","aria-hidden":"true"}},[this._v("#")]),this._v(" Stores")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("strong",[t._v("create(data)")]),t._v(": create a store based on provided data object properties\n"),s("ul",[s("li",[s("strong",[t._v("id")]),t._v(": unique store ID")]),t._v(" "),s("li",[s("strong",[t._v("type")]),t._v(": store type (e.g. "),s("code",[t._v("fs")]),t._v(")")]),t._v(" "),s("li",[s("strong",[t._v("options")]),t._v(": specific store implementation options")])])]),t._v(" "),s("li",[s("strong",[t._v("remove(id)")]),t._v(": remove the store with given ID")]),t._v(" "),s("li",[s("strong",[t._v("get(id)")]),t._v(": retrieve the store with givnen ID")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"tasks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tasks","aria-hidden":"true"}},[this._v("#")]),this._v(" Tasks")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("strong",[t._v("create(data)")]),t._v(": create a task based on provided data object properties\n"),s("ul",[s("li",[s("strong",[t._v("id")]),t._v(": unique task ID")]),t._v(" "),s("li",[s("strong",[t._v("type")]),t._v(": task type (e.g. "),s("code",[t._v("http")]),t._v(")")]),t._v(" "),s("li",[s("strong",[t._v("attemptsLimit")]),t._v(": if specified the task will be run again until this number of times before being declared as failed")]),t._v(" "),s("li",[s("strong",[t._v("attemptsOptions")]),t._v(": if specified each retried task will be run by merging the associated options for each retry given in this array")]),t._v(" "),s("li",[s("strong",[t._v("faultTolerant")]),t._v(": will catch any error raised by the task execution so that the hook chain be stopped but the job will continue anyway")]),t._v(" "),s("li",[s("strong",[t._v("options")]),t._v(": specific task implementation options plus\n"),s("ul",[s("li",[s("strong",[t._v("outputType")]),t._v(": the type of output produced by this task, defaults to "),s("code",[t._v("intermediate")])])])])])]),t._v(" "),s("li",[s("strong",[t._v("remove(id)")]),t._v(": remove the task with given ID, this will actually remove the produced output from the store given as a (query) parameters")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If the task type is written "),e("code",[this._v("type-stream")]),this._v(" then the stream is not piped directly to the store but returned in a "),e("code",[this._v("stream")]),this._v(" property for further usage by hooks.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"jobs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jobs","aria-hidden":"true"}},[this._v("#")]),this._v(" Jobs")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("strong",[t._v("create(data)")]),t._v(": create a job based on provided data object properties\n"),s("ul",[s("li",[s("strong",[t._v("id")]),t._v(": unique job ID")]),t._v(" "),s("li",[s("strong",[t._v("type")]),t._v(": job type (e.g. "),s("code",[t._v("async")]),t._v(")")]),t._v(" "),s("li",[s("strong",[t._v("options")]),t._v(": specific job implementation options")])])]),t._v(" "),s("li",[s("strong",[t._v("remove(id)")]),t._v(": remove the job with given ID, this will actually remove the produced output from the store given as a (query) parameters")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("strong",[t._v("workersLimit")]),t._v(": the maximum number of tasks to be run in parallel by the job")]),t._v(" "),s("li",[s("strong",[t._v("attemptsLimit")]),t._v(": if specified each task will be run again until this number of times before being declared as failed")]),t._v(" "),s("li",[s("strong",[t._v("faultTolerant")]),t._v(": will catch erroneous tasks so that the job will continue anyway, the hook chain will be stopped on the faulty tasks however")]),t._v(" "),s("li",[s("strong",[t._v("timeout")]),t._v(": will stop the job and flag it as erroneous after the given timeout (ms), will wait until currently processed tasks are ran however")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("async")]),this._v(" to run tasks in parallel by batch")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("strong",[this._v("attemptsLimit")]),this._v(": the maximum number of attempts for a task before being declared as failed by Kue")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"task-templates"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#task-templates","aria-hidden":"true"}},[this._v("#")]),this._v(" Task templates")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("id: 'job',\ntaskTemplate: {\n  store: 'job-store',\n  id: '<%= jobId %>-<%= taskId %>',\n  type: 'http',\n  options: {\n    url: 'xxx',\n    parameter1: xxx\n  }\n}\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("{\n  id: 'task',\n  options: {\n    parameter2: xxx\n  }\n}\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("{\n  store: 'job-store',\n  id: 'job-task',\n  type: 'http',\n  options: {\n    url: 'xxx',\n    parameter1: xxx,\n    parameter2: xxx\n  }\n}\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"complete-example"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#complete-example","aria-hidden":"true"}},[this._v("#")]),this._v(" Complete Example")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" feathers "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feathers'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rest "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feathers-rest'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hooks "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feathers-hooks'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bodyParser "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body-parser'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" errorHandler "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feathers-errors/handler'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" plugin "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'krawler'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Initialize the application")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("feathers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("configure")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("configure")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hooks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("configure")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("plugins")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Initialize your feathers plugin services")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/stores'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" plugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stores")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/tasks'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" plugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tasks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/jobs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" plugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("jobs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("errorHandler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Define the required hooks for your app")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jobs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hooks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tasks'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hooks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3030")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Feathers app started on 127.0.0.1:3030'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// You can now call services in REST or programmatically")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jobs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tasks "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Job terminated, '")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" tasks"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("' tasks ran'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])}],!1,null,null,null);e.default=n.exports}}]);